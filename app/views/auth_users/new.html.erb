<h2>Create User</h2>

<div class="row">

  <div class="col-md-6">
    <%= form_with(model: @auth_user, local: true) do |f| %>
      <%= render 'shared/error_messages' %>

      <%= f.label :email %>
      <%= f.text_field :email, class: 'mb-1 form-control' %>

      <%= f.label :password_digest %>
      <%= f.text_field :password_digest, class: 'mb-1 form-control' %>

      <!-- Find out why the following two work -->
      <%= f.fields_for :auth_user_detail, AuthUserDetail.new do |details| %>
      <%#= f.fields_for :auth_user_detail_attributes do |details| %>

        <div >
          <%= details.label :firstname %>
          <%= details.text_field :firstname %>
        </div>
        <div >
          <%= details.label :lastname %>
          <%= details.text_field :lastname %>
        </div>
      <% end %>

      <%= f.submit "Create User", class: "mt-2 btn btn-primary" %>
    <% end %>
  </div>
  
</div>